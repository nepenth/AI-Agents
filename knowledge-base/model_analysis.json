{
  "metadata": {
    "generated_at": "2024-01-01T00:00:00Z",
    "total_models": 10,
    "total_fields": 106,
    "total_relationships": 5,
    "total_constraints": 16
  },
  "statistics": {
    "models_by_category": {
      "Core Data Models": 3,
      "Agent Management": 2,
      "Chat System": 2,
      "Scheduling": 2,
      "Configuration": 1
    },
    "field_types": {
      "integer": 18,
      "string": 39,
      "text": 21,
      "datetime": 19,
      "boolean": 6,
      "json": 2,
      "binary": 1
    },
    "relationship_types": {
      "many-to-one": 3,
      "one-to-many": 2
    },
    "constraint_types": {
      "primarykey": 10,
      "unique": 3,
      "foreignkey": 3
    }
  },
  "categories": {
    "Core Data Models": [
      {
        "name": "KnowledgeBaseItem",
        "table_name": "knowledge_base_item",
        "description": "The base class of the :attr:`.SQLAlchemy.Model` declarative model class.",
        "purpose": "Stores processed knowledge base items with content, categorization, and metadata",
        "fields": [
          {
            "name": "id",
            "type": "integer",
            "nullable": false,
            "primary_key": true,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Primary key identifier",
            "max_length": null,
            "index": null
          },
          {
            "name": "tweet_id",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": true,
            "default": null,
            "foreign_key": null,
            "description": "Primary key identifier",
            "max_length": 50,
            "index": null
          },
          {
            "name": "title",
            "type": "string",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Title or name of the item",
            "max_length": 200,
            "index": null
          },
          {
            "name": "display_title",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Title or name of the item",
            "max_length": 255,
            "index": null
          },
          {
            "name": "description",
            "type": "text",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Description or summary text",
            "max_length": null,
            "index": null
          },
          {
            "name": "content",
            "type": "text",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Main content or body text",
            "max_length": null,
            "index": null
          },
          {
            "name": "main_category",
            "type": "string",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": "Uncategorized",
            "foreign_key": null,
            "description": "Text value for main category",
            "max_length": 100,
            "index": null
          },
          {
            "name": "sub_category",
            "type": "string",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": "Uncategorized",
            "foreign_key": null,
            "description": "Text value for sub category",
            "max_length": 100,
            "index": null
          },
          {
            "name": "item_name",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Name or identifier",
            "max_length": 200,
            "index": null
          },
          {
            "name": "source_url",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "URL or web address",
            "max_length": 500,
            "index": null
          },
          {
            "name": "created_at",
            "type": "datetime",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Timestamp when record was created",
            "max_length": null,
            "index": null
          },
          {
            "name": "last_updated",
            "type": "datetime",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Timestamp when record was last updated",
            "max_length": null,
            "index": null
          },
          {
            "name": "file_path",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "File system path",
            "max_length": 500,
            "index": null
          },
          {
            "name": "kb_media_paths",
            "type": "text",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "File system path",
            "max_length": null,
            "index": null
          },
          {
            "name": "raw_json_content",
            "type": "text",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Main content or body text",
            "max_length": null,
            "index": null
          }
        ],
        "relationships": [],
        "constraints": [
          {
            "name": "primarykey_constraint",
            "type": "primarykey",
            "columns": [
              "id"
            ],
            "description": "Primary key constraint on id"
          },
          {
            "name": "unique_constraint",
            "type": "unique",
            "columns": [
              "tweet_id"
            ],
            "description": "Ensures tweet_id values are unique"
          }
        ],
        "indexes": [],
        "primary_keys": [
          "id"
        ],
        "foreign_keys": [],
        "unique_fields": [
          "tweet_id"
        ],
        "required_fields": [
          "title",
          "content",
          "main_category",
          "sub_category",
          "created_at",
          "last_updated"
        ],
        "optional_fields": [
          "tweet_id",
          "display_title",
          "description",
          "item_name",
          "source_url",
          "file_path",
          "kb_media_paths",
          "raw_json_content"
        ],
        "common_queries": [
          "KnowledgeBaseItem.query.all()  # Get all records",
          "KnowledgeBaseItem.query.get(id)  # Get by id",
          "KnowledgeBaseItem.query.filter_by(item_name='value').first()",
          "KnowledgeBaseItem.query.filter(KnowledgeBaseItem.created_at >= datetime.now()).all()"
        ],
        "related_models": [],
        "business_rules": [
          "Each item must have a title and content",
          "Items are categorized into main_category and sub_category",
          "tweet_id must be unique when provided",
          "created_at and last_updated are automatically managed"
        ]
      },
      {
        "name": "SubcategorySynthesis",
        "table_name": "subcategory_synthesis",
        "description": "The base class of the :attr:`.SQLAlchemy.Model` declarative model class.",
        "purpose": "Stores AI-generated synthesis documents that summarize knowledge base items by category",
        "fields": [
          {
            "name": "id",
            "type": "integer",
            "nullable": false,
            "primary_key": true,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Primary key identifier",
            "max_length": null,
            "index": null
          },
          {
            "name": "main_category",
            "type": "string",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Text value for main category",
            "max_length": 100,
            "index": null
          },
          {
            "name": "sub_category",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Text value for sub category",
            "max_length": 100,
            "index": null
          },
          {
            "name": "synthesis_title",
            "type": "string",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Title or name of the item",
            "max_length": 255,
            "index": null
          },
          {
            "name": "synthesis_short_name",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Name or identifier",
            "max_length": 255,
            "index": null
          },
          {
            "name": "synthesis_content",
            "type": "text",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Main content or body text",
            "max_length": null,
            "index": null
          },
          {
            "name": "raw_json_content",
            "type": "text",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Main content or body text",
            "max_length": null,
            "index": null
          },
          {
            "name": "item_count",
            "type": "integer",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": 0,
            "foreign_key": null,
            "description": "Numeric count or quantity",
            "max_length": null,
            "index": null
          },
          {
            "name": "file_path",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "File system path",
            "max_length": 500,
            "index": null
          },
          {
            "name": "created_at",
            "type": "datetime",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Timestamp when record was created",
            "max_length": null,
            "index": null
          },
          {
            "name": "last_updated",
            "type": "datetime",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Timestamp when record was last updated",
            "max_length": null,
            "index": null
          },
          {
            "name": "content_hash",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Main content or body text",
            "max_length": 64,
            "index": null
          },
          {
            "name": "is_stale",
            "type": "boolean",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": false,
            "foreign_key": null,
            "description": "Boolean flag for is stale",
            "max_length": null,
            "index": null
          },
          {
            "name": "last_item_update",
            "type": "datetime",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Timestamp for last item update",
            "max_length": null,
            "index": null
          },
          {
            "name": "needs_regeneration",
            "type": "boolean",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": false,
            "foreign_key": null,
            "description": "Boolean flag for needs regeneration",
            "max_length": null,
            "index": null
          },
          {
            "name": "dependency_item_ids",
            "type": "text",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Primary key identifier",
            "max_length": null,
            "index": null
          }
        ],
        "relationships": [],
        "constraints": [
          {
            "name": "uq_main_sub_category",
            "type": "unique",
            "columns": [
              "main_category",
              "sub_category"
            ],
            "description": "Ensures combination of main_category, sub_category is unique"
          },
          {
            "name": "primarykey_constraint",
            "type": "primarykey",
            "columns": [
              "id"
            ],
            "description": "Primary key constraint on id"
          }
        ],
        "indexes": [],
        "primary_keys": [
          "id"
        ],
        "foreign_keys": [],
        "unique_fields": [],
        "required_fields": [
          "main_category",
          "synthesis_title",
          "synthesis_content",
          "item_count",
          "created_at",
          "last_updated",
          "is_stale",
          "needs_regeneration"
        ],
        "optional_fields": [
          "sub_category",
          "synthesis_short_name",
          "raw_json_content",
          "file_path",
          "content_hash",
          "last_item_update",
          "dependency_item_ids"
        ],
        "common_queries": [
          "SubcategorySynthesis.query.all()  # Get all records",
          "SubcategorySynthesis.query.get(id)  # Get by id",
          "SubcategorySynthesis.query.filter_by(synthesis_short_name='value').first()",
          "SubcategorySynthesis.query.filter(SubcategorySynthesis.created_at >= datetime.now()).all()"
        ],
        "related_models": [],
        "business_rules": [
          "Combination of main_category and sub_category must be unique",
          "Synthesis content is AI-generated based on related KB items",
          "item_count tracks number of source items used",
          "Dependency tracking enables incremental updates"
        ]
      },
      {
        "name": "Embedding",
        "table_name": "embedding",
        "description": "The base class of the :attr:`.SQLAlchemy.Model` declarative model class.",
        "purpose": "Stores vector embeddings for knowledge base items and synthesis documents",
        "fields": [
          {
            "name": "id",
            "type": "integer",
            "nullable": false,
            "primary_key": true,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Primary key identifier",
            "max_length": null,
            "index": null
          },
          {
            "name": "document_id",
            "type": "integer",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Primary key identifier",
            "max_length": null,
            "index": null
          },
          {
            "name": "document_type",
            "type": "string",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Text value for document type",
            "max_length": 50,
            "index": null
          },
          {
            "name": "embedding",
            "type": "binary",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Field for embedding",
            "max_length": null,
            "index": null
          },
          {
            "name": "model",
            "type": "string",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Text value for model",
            "max_length": 100,
            "index": null
          },
          {
            "name": "created_at",
            "type": "datetime",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Timestamp when record was created",
            "max_length": null,
            "index": null
          }
        ],
        "relationships": [],
        "constraints": [
          {
            "name": "primarykey_constraint",
            "type": "primarykey",
            "columns": [
              "id"
            ],
            "description": "Primary key constraint on id"
          }
        ],
        "indexes": [
          {
            "name": "idx_embedding_doc_type_id",
            "columns": [
              "document_type",
              "document_id"
            ],
            "unique": false,
            "description": "Index on document_type, document_id"
          }
        ],
        "primary_keys": [
          "id"
        ],
        "foreign_keys": [],
        "unique_fields": [],
        "required_fields": [
          "document_id",
          "document_type",
          "embedding",
          "model",
          "created_at"
        ],
        "optional_fields": [],
        "common_queries": [
          "Embedding.query.all()  # Get all records",
          "Embedding.query.get(id)  # Get by id",
          "Embedding.query.filter(Embedding.created_at >= datetime.now()).all()"
        ],
        "related_models": [],
        "business_rules": []
      }
    ],
    "Agent Management": [
      {
        "name": "AgentState",
        "table_name": "agent_state",
        "description": "A singleton table to store the operational state of the agent.",
        "purpose": "Singleton table tracking the operational state of the Knowledge Base Agent",
        "fields": [
          {
            "name": "id",
            "type": "integer",
            "nullable": false,
            "primary_key": true,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Primary key identifier",
            "max_length": null,
            "index": null
          },
          {
            "name": "is_running",
            "type": "boolean",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": false,
            "foreign_key": null,
            "description": "Boolean flag for is running",
            "max_length": null,
            "index": null
          },
          {
            "name": "current_run_preferences",
            "type": "text",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Field for current run preferences",
            "max_length": null,
            "index": null
          },
          {
            "name": "plan_statuses",
            "type": "text",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Current status of the item",
            "max_length": null,
            "index": null
          },
          {
            "name": "phase_estimates",
            "type": "text",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Field for phase estimates",
            "max_length": null,
            "index": null
          },
          {
            "name": "current_phase_id",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Primary key identifier",
            "max_length": 100,
            "index": null
          },
          {
            "name": "current_phase_message",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Text value for current phase message",
            "max_length": 500,
            "index": null
          },
          {
            "name": "current_phase_status",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Current status of the item",
            "max_length": 50,
            "index": null
          },
          {
            "name": "stop_flag_status",
            "type": "boolean",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": false,
            "foreign_key": null,
            "description": "Current status of the item",
            "max_length": null,
            "index": null
          },
          {
            "name": "last_update",
            "type": "datetime",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": "function: utcnow",
            "foreign_key": null,
            "description": "Timestamp for last update",
            "max_length": null,
            "index": null
          },
          {
            "name": "current_task_id",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": "celery_task_state.task_id",
            "description": "Primary key identifier",
            "max_length": 36,
            "index": null
          },
          {
            "name": "task_queue_size",
            "type": "integer",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": 0,
            "foreign_key": null,
            "description": "Numeric value for task queue size",
            "max_length": null,
            "index": null
          }
        ],
        "relationships": [
          {
            "name": "current_task",
            "target_model": "CeleryTaskState",
            "relationship_type": "many-to-one",
            "foreign_key": "celery_task_state.task_id",
            "back_populates": null,
            "cascade": "CascadeOptions('merge,save-update')",
            "lazy": "select"
          }
        ],
        "constraints": [
          {
            "name": "foreignkey_constraint",
            "type": "foreignkey",
            "columns": [
              "current_task_id"
            ],
            "description": "Foreign key constraint on current_task_id"
          },
          {
            "name": "primarykey_constraint",
            "type": "primarykey",
            "columns": [
              "id"
            ],
            "description": "Primary key constraint on id"
          }
        ],
        "indexes": [],
        "primary_keys": [
          "id"
        ],
        "foreign_keys": [
          "current_task_id"
        ],
        "unique_fields": [],
        "required_fields": [
          "is_running",
          "stop_flag_status",
          "last_update"
        ],
        "optional_fields": [
          "current_run_preferences",
          "plan_statuses",
          "phase_estimates",
          "current_phase_id",
          "current_phase_message",
          "current_phase_status",
          "current_task_id",
          "task_queue_size"
        ],
        "common_queries": [
          "AgentState.query.all()  # Get all records",
          "AgentState.query.get(id)  # Get by id",
          "AgentState.query.filter(AgentState.last_update >= datetime.now()).all()"
        ],
        "related_models": [
          "CeleryTaskState"
        ],
        "business_rules": [
          "Singleton table - only one record should exist",
          "Tracks current agent execution state and progress",
          "Links to active Celery task via current_task_id",
          "JSON fields store complex state information"
        ]
      },
      {
        "name": "CeleryTaskState",
        "table_name": "celery_task_state",
        "description": "Track Celery task execution state, extending current state management.",
        "purpose": "Tracks execution state and progress of Celery background tasks",
        "fields": [
          {
            "name": "id",
            "type": "integer",
            "nullable": false,
            "primary_key": true,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Primary key identifier",
            "max_length": null,
            "index": null
          },
          {
            "name": "task_id",
            "type": "string",
            "nullable": false,
            "primary_key": false,
            "unique": true,
            "default": null,
            "foreign_key": null,
            "description": "Unique identifier for task tracking",
            "max_length": 36,
            "index": true
          },
          {
            "name": "celery_task_id",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Primary key identifier",
            "max_length": 36,
            "index": true
          },
          {
            "name": "task_type",
            "type": "string",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Text value for task type",
            "max_length": 100,
            "index": true
          },
          {
            "name": "status",
            "type": "string",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": "PENDING",
            "foreign_key": null,
            "description": "Current status of the item",
            "max_length": 20,
            "index": true
          },
          {
            "name": "current_phase_id",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Primary key identifier",
            "max_length": 50,
            "index": null
          },
          {
            "name": "current_phase_message",
            "type": "text",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Field for current phase message",
            "max_length": null,
            "index": null
          },
          {
            "name": "progress_percentage",
            "type": "integer",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": 0,
            "foreign_key": null,
            "description": "Numeric value for progress percentage",
            "max_length": null,
            "index": null
          },
          {
            "name": "preferences",
            "type": "json",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Field for preferences",
            "max_length": null,
            "index": null
          },
          {
            "name": "result_data",
            "type": "json",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Field for result data",
            "max_length": null,
            "index": null
          },
          {
            "name": "error_message",
            "type": "text",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Field for error message",
            "max_length": null,
            "index": null
          },
          {
            "name": "traceback",
            "type": "text",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Field for traceback",
            "max_length": null,
            "index": null
          },
          {
            "name": "created_at",
            "type": "datetime",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": "function: utcnow",
            "foreign_key": null,
            "description": "Timestamp when record was created",
            "max_length": null,
            "index": null
          },
          {
            "name": "started_at",
            "type": "datetime",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Timestamp for started at",
            "max_length": null,
            "index": null
          },
          {
            "name": "updated_at",
            "type": "datetime",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": "function: utcnow",
            "foreign_key": null,
            "description": "Timestamp when record was last updated",
            "max_length": null,
            "index": null
          },
          {
            "name": "completed_at",
            "type": "datetime",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Timestamp for completed at",
            "max_length": null,
            "index": null
          }
        ],
        "relationships": [],
        "constraints": [
          {
            "name": "primarykey_constraint",
            "type": "primarykey",
            "columns": [
              "id"
            ],
            "description": "Primary key constraint on id"
          }
        ],
        "indexes": [
          {
            "name": "ix_celery_task_state_celery_task_id",
            "columns": [
              "celery_task_id"
            ],
            "unique": false,
            "description": "Index on celery_task_id"
          },
          {
            "name": "ix_celery_task_state_task_id",
            "columns": [
              "task_id"
            ],
            "unique": true,
            "description": "Index on task_id (unique)"
          },
          {
            "name": "ix_celery_task_state_task_type",
            "columns": [
              "task_type"
            ],
            "unique": false,
            "description": "Index on task_type"
          },
          {
            "name": "ix_celery_task_state_status",
            "columns": [
              "status"
            ],
            "unique": false,
            "description": "Index on status"
          }
        ],
        "primary_keys": [
          "id"
        ],
        "foreign_keys": [],
        "unique_fields": [
          "task_id"
        ],
        "required_fields": [
          "task_id",
          "task_type",
          "status"
        ],
        "optional_fields": [
          "celery_task_id",
          "current_phase_id",
          "current_phase_message",
          "progress_percentage",
          "preferences",
          "result_data",
          "error_message",
          "traceback",
          "created_at",
          "started_at",
          "updated_at",
          "completed_at"
        ],
        "common_queries": [
          "CeleryTaskState.query.all()  # Get all records",
          "CeleryTaskState.query.get(id)  # Get by id",
          "CeleryTaskState.query.filter_by(status=True).all()",
          "CeleryTaskState.query.filter(CeleryTaskState.created_at >= datetime.now()).all()"
        ],
        "related_models": [],
        "business_rules": [
          "Each task has unique task_id for tracking",
          "Status follows Celery state machine (PENDING \u2192 PROGRESS \u2192 SUCCESS/FAILURE)",
          "Progress tracking enables real-time UI updates",
          "Preferences and results stored as JSON"
        ]
      }
    ],
    "Chat System": [
      {
        "name": "ChatSession",
        "table_name": "chat_session",
        "description": "The base class of the :attr:`.SQLAlchemy.Model` declarative model class.",
        "purpose": "Manages conversational AI chat sessions with metadata and message tracking",
        "fields": [
          {
            "name": "id",
            "type": "integer",
            "nullable": false,
            "primary_key": true,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Primary key identifier",
            "max_length": null,
            "index": null
          },
          {
            "name": "session_id",
            "type": "string",
            "nullable": false,
            "primary_key": false,
            "unique": true,
            "default": null,
            "foreign_key": null,
            "description": "Unique identifier for session tracking",
            "max_length": 100,
            "index": null
          },
          {
            "name": "title",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Title or name of the item",
            "max_length": 255,
            "index": null
          },
          {
            "name": "created_at",
            "type": "datetime",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Timestamp when record was created",
            "max_length": null,
            "index": null
          },
          {
            "name": "last_updated",
            "type": "datetime",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Timestamp when record was last updated",
            "max_length": null,
            "index": null
          },
          {
            "name": "is_archived",
            "type": "boolean",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": false,
            "foreign_key": null,
            "description": "Whether the item is archived",
            "max_length": null,
            "index": null
          },
          {
            "name": "message_count",
            "type": "integer",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": 0,
            "foreign_key": null,
            "description": "Numeric count or quantity",
            "max_length": null,
            "index": null
          }
        ],
        "relationships": [
          {
            "name": "messages",
            "target_model": "ChatMessage",
            "relationship_type": "one-to-many",
            "foreign_key": null,
            "back_populates": "session",
            "cascade": "CascadeOptions('delete,delete-orphan,expunge,merge,refresh-expire,save-update')",
            "lazy": "True"
          }
        ],
        "constraints": [
          {
            "name": "primarykey_constraint",
            "type": "primarykey",
            "columns": [
              "id"
            ],
            "description": "Primary key constraint on id"
          },
          {
            "name": "unique_constraint",
            "type": "unique",
            "columns": [
              "session_id"
            ],
            "description": "Ensures session_id values are unique"
          }
        ],
        "indexes": [],
        "primary_keys": [
          "id"
        ],
        "foreign_keys": [],
        "unique_fields": [
          "session_id"
        ],
        "required_fields": [
          "session_id",
          "created_at",
          "last_updated",
          "is_archived",
          "message_count"
        ],
        "optional_fields": [
          "title"
        ],
        "common_queries": [
          "ChatSession.query.all()  # Get all records",
          "ChatSession.query.get(id)  # Get by id",
          "ChatSession.query.filter_by(is_archived=True).all()",
          "instance.messages  # Access related ChatMessage records",
          "ChatSession.query.filter(ChatSession.created_at >= datetime.now()).all()"
        ],
        "related_models": [
          "ChatMessage"
        ],
        "business_rules": [
          "Each session has unique session_id",
          "message_count is automatically maintained",
          "Sessions can be archived but not deleted",
          "Cascade delete removes all related messages"
        ]
      },
      {
        "name": "ChatMessage",
        "table_name": "chat_message",
        "description": "The base class of the :attr:`.SQLAlchemy.Model` declarative model class.",
        "purpose": "Stores individual messages within chat sessions with AI response metadata",
        "fields": [
          {
            "name": "id",
            "type": "integer",
            "nullable": false,
            "primary_key": true,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Primary key identifier",
            "max_length": null,
            "index": null
          },
          {
            "name": "session_id",
            "type": "string",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": "chat_session.session_id",
            "description": "Unique identifier for session tracking",
            "max_length": 100,
            "index": null
          },
          {
            "name": "role",
            "type": "string",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Text value for role",
            "max_length": 20,
            "index": null
          },
          {
            "name": "content",
            "type": "text",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Main content or body text",
            "max_length": null,
            "index": null
          },
          {
            "name": "created_at",
            "type": "datetime",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Timestamp when record was created",
            "max_length": null,
            "index": null
          },
          {
            "name": "model_used",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Text value for model used",
            "max_length": 100,
            "index": null
          },
          {
            "name": "sources",
            "type": "text",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Field for sources",
            "max_length": null,
            "index": null
          },
          {
            "name": "context_stats",
            "type": "text",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Field for context stats",
            "max_length": null,
            "index": null
          },
          {
            "name": "performance_metrics",
            "type": "text",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Field for performance metrics",
            "max_length": null,
            "index": null
          }
        ],
        "relationships": [
          {
            "name": "session",
            "target_model": "ChatSession",
            "relationship_type": "many-to-one",
            "foreign_key": "chat_session.session_id",
            "back_populates": "messages",
            "cascade": "CascadeOptions('merge,save-update')",
            "lazy": "select"
          }
        ],
        "constraints": [
          {
            "name": "foreignkey_constraint",
            "type": "foreignkey",
            "columns": [
              "session_id"
            ],
            "description": "Foreign key constraint on session_id"
          },
          {
            "name": "primarykey_constraint",
            "type": "primarykey",
            "columns": [
              "id"
            ],
            "description": "Primary key constraint on id"
          }
        ],
        "indexes": [],
        "primary_keys": [
          "id"
        ],
        "foreign_keys": [
          "session_id"
        ],
        "unique_fields": [],
        "required_fields": [
          "session_id",
          "role",
          "content",
          "created_at"
        ],
        "optional_fields": [
          "model_used",
          "sources",
          "context_stats",
          "performance_metrics"
        ],
        "common_queries": [
          "ChatMessage.query.all()  # Get all records",
          "ChatMessage.query.get(id)  # Get by id",
          "ChatMessage.query.filter(ChatMessage.created_at >= datetime.now()).all()"
        ],
        "related_models": [
          "ChatSession"
        ],
        "business_rules": [
          "Messages belong to a chat session",
          "Role must be either \"user\" or \"assistant\"",
          "AI responses include source attribution and metrics",
          "Performance data stored for optimization"
        ]
      }
    ],
    "Scheduling": [
      {
        "name": "Schedule",
        "table_name": "schedule",
        "description": "The base class of the :attr:`.SQLAlchemy.Model` declarative model class.",
        "purpose": "Manages automated scheduling for recurring agent execution tasks",
        "fields": [
          {
            "name": "id",
            "type": "integer",
            "nullable": false,
            "primary_key": true,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Primary key identifier",
            "max_length": null,
            "index": null
          },
          {
            "name": "name",
            "type": "string",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Name or identifier",
            "max_length": 255,
            "index": null
          },
          {
            "name": "description",
            "type": "text",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Description or summary text",
            "max_length": null,
            "index": null
          },
          {
            "name": "frequency",
            "type": "string",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Text value for frequency",
            "max_length": 50,
            "index": null
          },
          {
            "name": "time",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Text value for time",
            "max_length": 10,
            "index": null
          },
          {
            "name": "day_of_week",
            "type": "integer",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Numeric value for day of week",
            "max_length": null,
            "index": null
          },
          {
            "name": "day_of_month",
            "type": "integer",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Numeric value for day of month",
            "max_length": null,
            "index": null
          },
          {
            "name": "cron_expression",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Text value for cron expression",
            "max_length": 100,
            "index": null
          },
          {
            "name": "pipeline_type",
            "type": "string",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": "full",
            "foreign_key": null,
            "description": "Text value for pipeline type",
            "max_length": 50,
            "index": null
          },
          {
            "name": "pipeline_config",
            "type": "text",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Field for pipeline config",
            "max_length": null,
            "index": null
          },
          {
            "name": "enabled",
            "type": "boolean",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": true,
            "foreign_key": null,
            "description": "Whether the item is enabled/active",
            "max_length": null,
            "index": null
          },
          {
            "name": "created_at",
            "type": "datetime",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Timestamp when record was created",
            "max_length": null,
            "index": null
          },
          {
            "name": "last_updated",
            "type": "datetime",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Timestamp when record was last updated",
            "max_length": null,
            "index": null
          },
          {
            "name": "next_run",
            "type": "datetime",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Timestamp for next run",
            "max_length": null,
            "index": null
          },
          {
            "name": "last_run",
            "type": "datetime",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Timestamp for last run",
            "max_length": null,
            "index": null
          }
        ],
        "relationships": [
          {
            "name": "runs",
            "target_model": "ScheduleRun",
            "relationship_type": "one-to-many",
            "foreign_key": null,
            "back_populates": "schedule",
            "cascade": "CascadeOptions('delete,delete-orphan,expunge,merge,refresh-expire,save-update')",
            "lazy": "True"
          }
        ],
        "constraints": [
          {
            "name": "primarykey_constraint",
            "type": "primarykey",
            "columns": [
              "id"
            ],
            "description": "Primary key constraint on id"
          }
        ],
        "indexes": [],
        "primary_keys": [
          "id"
        ],
        "foreign_keys": [],
        "unique_fields": [],
        "required_fields": [
          "name",
          "frequency",
          "pipeline_type",
          "enabled",
          "created_at",
          "last_updated"
        ],
        "optional_fields": [
          "description",
          "time",
          "day_of_week",
          "day_of_month",
          "cron_expression",
          "pipeline_config",
          "next_run",
          "last_run"
        ],
        "common_queries": [
          "Schedule.query.all()  # Get all records",
          "Schedule.query.get(id)  # Get by id",
          "Schedule.query.filter_by(name='value').first()",
          "Schedule.query.filter_by(enabled=True).all()",
          "instance.runs  # Access related ScheduleRun records",
          "Schedule.query.filter(Schedule.created_at >= datetime.now()).all()"
        ],
        "related_models": [
          "ScheduleRun"
        ],
        "business_rules": [
          "Supports multiple frequency types (manual, daily, weekly, monthly, custom)",
          "Custom schedules use cron expressions",
          "Pipeline configuration stored as JSON",
          "next_run calculated based on frequency and last execution"
        ]
      },
      {
        "name": "ScheduleRun",
        "table_name": "schedule_run",
        "description": "The base class of the :attr:`.SQLAlchemy.Model` declarative model class.",
        "purpose": "Records execution history and results of scheduled agent runs",
        "fields": [
          {
            "name": "id",
            "type": "integer",
            "nullable": false,
            "primary_key": true,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Primary key identifier",
            "max_length": null,
            "index": null
          },
          {
            "name": "schedule_id",
            "type": "integer",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": "schedule.id",
            "description": "Primary key identifier",
            "max_length": null,
            "index": null
          },
          {
            "name": "execution_time",
            "type": "datetime",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Timestamp for execution time",
            "max_length": null,
            "index": null
          },
          {
            "name": "status",
            "type": "string",
            "nullable": false,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Current status of the item",
            "max_length": 20,
            "index": null
          },
          {
            "name": "duration",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Text value for duration",
            "max_length": 50,
            "index": null
          },
          {
            "name": "processed_items",
            "type": "integer",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": 0,
            "foreign_key": null,
            "description": "Numeric value for processed items",
            "max_length": null,
            "index": null
          },
          {
            "name": "error_message",
            "type": "text",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Field for error message",
            "max_length": null,
            "index": null
          },
          {
            "name": "logs",
            "type": "text",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Field for logs",
            "max_length": null,
            "index": null
          }
        ],
        "relationships": [
          {
            "name": "schedule",
            "target_model": "Schedule",
            "relationship_type": "many-to-one",
            "foreign_key": "schedule.id",
            "back_populates": "runs",
            "cascade": "CascadeOptions('merge,save-update')",
            "lazy": "select"
          }
        ],
        "constraints": [
          {
            "name": "foreignkey_constraint",
            "type": "foreignkey",
            "columns": [
              "schedule_id"
            ],
            "description": "Foreign key constraint on schedule_id"
          },
          {
            "name": "primarykey_constraint",
            "type": "primarykey",
            "columns": [
              "id"
            ],
            "description": "Primary key constraint on id"
          }
        ],
        "indexes": [],
        "primary_keys": [
          "id"
        ],
        "foreign_keys": [
          "schedule_id"
        ],
        "unique_fields": [],
        "required_fields": [
          "schedule_id",
          "execution_time",
          "status"
        ],
        "optional_fields": [
          "duration",
          "processed_items",
          "error_message",
          "logs"
        ],
        "common_queries": [
          "ScheduleRun.query.all()  # Get all records",
          "ScheduleRun.query.get(id)  # Get by id",
          "ScheduleRun.query.filter_by(status=True).all()",
          "ScheduleRun.query.filter(ScheduleRun.execution_time >= datetime.now()).all()"
        ],
        "related_models": [
          "Schedule"
        ],
        "business_rules": []
      }
    ],
    "Configuration": [
      {
        "name": "Setting",
        "table_name": "settings",
        "description": "The base class of the :attr:`.SQLAlchemy.Model` declarative model class.",
        "purpose": "Stores system configuration key-value pairs",
        "fields": [
          {
            "name": "key",
            "type": "string",
            "nullable": false,
            "primary_key": true,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Text value for key",
            "max_length": 50,
            "index": null
          },
          {
            "name": "value",
            "type": "string",
            "nullable": true,
            "primary_key": false,
            "unique": null,
            "default": null,
            "foreign_key": null,
            "description": "Text value for value",
            "max_length": 255,
            "index": null
          }
        ],
        "relationships": [],
        "constraints": [
          {
            "name": "primarykey_constraint",
            "type": "primarykey",
            "columns": [
              "key"
            ],
            "description": "Primary key constraint on key"
          }
        ],
        "indexes": [],
        "primary_keys": [
          "key"
        ],
        "foreign_keys": [],
        "unique_fields": [],
        "required_fields": [],
        "optional_fields": [
          "value"
        ],
        "common_queries": [
          "Setting.query.all()  # Get all records",
          "Setting.query.get(id)  # Get by key"
        ],
        "related_models": [],
        "business_rules": []
      }
    ]
  },
  "relationship_map": {
    "KnowledgeBaseItem": [],
    "SubcategorySynthesis": [],
    "AgentState": [
      "CeleryTaskState"
    ],
    "Schedule": [
      "ScheduleRun"
    ],
    "CeleryTaskState": [],
    "ScheduleRun": [
      "Schedule"
    ],
    "Setting": [],
    "ChatSession": [
      "ChatMessage"
    ],
    "Embedding": [],
    "ChatMessage": [
      "ChatSession"
    ]
  },
  "models": [
    {
      "name": "KnowledgeBaseItem",
      "table_name": "knowledge_base_item",
      "description": "The base class of the :attr:`.SQLAlchemy.Model` declarative model class.",
      "purpose": "Stores processed knowledge base items with content, categorization, and metadata",
      "fields": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "primary_key": true,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Primary key identifier",
          "max_length": null,
          "index": null
        },
        {
          "name": "tweet_id",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": true,
          "default": null,
          "foreign_key": null,
          "description": "Primary key identifier",
          "max_length": 50,
          "index": null
        },
        {
          "name": "title",
          "type": "string",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Title or name of the item",
          "max_length": 200,
          "index": null
        },
        {
          "name": "display_title",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Title or name of the item",
          "max_length": 255,
          "index": null
        },
        {
          "name": "description",
          "type": "text",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Description or summary text",
          "max_length": null,
          "index": null
        },
        {
          "name": "content",
          "type": "text",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Main content or body text",
          "max_length": null,
          "index": null
        },
        {
          "name": "main_category",
          "type": "string",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": "Uncategorized",
          "foreign_key": null,
          "description": "Text value for main category",
          "max_length": 100,
          "index": null
        },
        {
          "name": "sub_category",
          "type": "string",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": "Uncategorized",
          "foreign_key": null,
          "description": "Text value for sub category",
          "max_length": 100,
          "index": null
        },
        {
          "name": "item_name",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Name or identifier",
          "max_length": 200,
          "index": null
        },
        {
          "name": "source_url",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "URL or web address",
          "max_length": 500,
          "index": null
        },
        {
          "name": "created_at",
          "type": "datetime",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Timestamp when record was created",
          "max_length": null,
          "index": null
        },
        {
          "name": "last_updated",
          "type": "datetime",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Timestamp when record was last updated",
          "max_length": null,
          "index": null
        },
        {
          "name": "file_path",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "File system path",
          "max_length": 500,
          "index": null
        },
        {
          "name": "kb_media_paths",
          "type": "text",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "File system path",
          "max_length": null,
          "index": null
        },
        {
          "name": "raw_json_content",
          "type": "text",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Main content or body text",
          "max_length": null,
          "index": null
        }
      ],
      "relationships": [],
      "constraints": [
        {
          "name": "primarykey_constraint",
          "type": "primarykey",
          "columns": [
            "id"
          ],
          "description": "Primary key constraint on id"
        },
        {
          "name": "unique_constraint",
          "type": "unique",
          "columns": [
            "tweet_id"
          ],
          "description": "Ensures tweet_id values are unique"
        }
      ],
      "indexes": [],
      "primary_keys": [
        "id"
      ],
      "foreign_keys": [],
      "unique_fields": [
        "tweet_id"
      ],
      "required_fields": [
        "title",
        "content",
        "main_category",
        "sub_category",
        "created_at",
        "last_updated"
      ],
      "optional_fields": [
        "tweet_id",
        "display_title",
        "description",
        "item_name",
        "source_url",
        "file_path",
        "kb_media_paths",
        "raw_json_content"
      ],
      "common_queries": [
        "KnowledgeBaseItem.query.all()  # Get all records",
        "KnowledgeBaseItem.query.get(id)  # Get by id",
        "KnowledgeBaseItem.query.filter_by(item_name='value').first()",
        "KnowledgeBaseItem.query.filter(KnowledgeBaseItem.created_at >= datetime.now()).all()"
      ],
      "related_models": [],
      "business_rules": [
        "Each item must have a title and content",
        "Items are categorized into main_category and sub_category",
        "tweet_id must be unique when provided",
        "created_at and last_updated are automatically managed"
      ]
    },
    {
      "name": "SubcategorySynthesis",
      "table_name": "subcategory_synthesis",
      "description": "The base class of the :attr:`.SQLAlchemy.Model` declarative model class.",
      "purpose": "Stores AI-generated synthesis documents that summarize knowledge base items by category",
      "fields": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "primary_key": true,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Primary key identifier",
          "max_length": null,
          "index": null
        },
        {
          "name": "main_category",
          "type": "string",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Text value for main category",
          "max_length": 100,
          "index": null
        },
        {
          "name": "sub_category",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Text value for sub category",
          "max_length": 100,
          "index": null
        },
        {
          "name": "synthesis_title",
          "type": "string",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Title or name of the item",
          "max_length": 255,
          "index": null
        },
        {
          "name": "synthesis_short_name",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Name or identifier",
          "max_length": 255,
          "index": null
        },
        {
          "name": "synthesis_content",
          "type": "text",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Main content or body text",
          "max_length": null,
          "index": null
        },
        {
          "name": "raw_json_content",
          "type": "text",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Main content or body text",
          "max_length": null,
          "index": null
        },
        {
          "name": "item_count",
          "type": "integer",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": 0,
          "foreign_key": null,
          "description": "Numeric count or quantity",
          "max_length": null,
          "index": null
        },
        {
          "name": "file_path",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "File system path",
          "max_length": 500,
          "index": null
        },
        {
          "name": "created_at",
          "type": "datetime",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Timestamp when record was created",
          "max_length": null,
          "index": null
        },
        {
          "name": "last_updated",
          "type": "datetime",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Timestamp when record was last updated",
          "max_length": null,
          "index": null
        },
        {
          "name": "content_hash",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Main content or body text",
          "max_length": 64,
          "index": null
        },
        {
          "name": "is_stale",
          "type": "boolean",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": false,
          "foreign_key": null,
          "description": "Boolean flag for is stale",
          "max_length": null,
          "index": null
        },
        {
          "name": "last_item_update",
          "type": "datetime",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Timestamp for last item update",
          "max_length": null,
          "index": null
        },
        {
          "name": "needs_regeneration",
          "type": "boolean",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": false,
          "foreign_key": null,
          "description": "Boolean flag for needs regeneration",
          "max_length": null,
          "index": null
        },
        {
          "name": "dependency_item_ids",
          "type": "text",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Primary key identifier",
          "max_length": null,
          "index": null
        }
      ],
      "relationships": [],
      "constraints": [
        {
          "name": "uq_main_sub_category",
          "type": "unique",
          "columns": [
            "main_category",
            "sub_category"
          ],
          "description": "Ensures combination of main_category, sub_category is unique"
        },
        {
          "name": "primarykey_constraint",
          "type": "primarykey",
          "columns": [
            "id"
          ],
          "description": "Primary key constraint on id"
        }
      ],
      "indexes": [],
      "primary_keys": [
        "id"
      ],
      "foreign_keys": [],
      "unique_fields": [],
      "required_fields": [
        "main_category",
        "synthesis_title",
        "synthesis_content",
        "item_count",
        "created_at",
        "last_updated",
        "is_stale",
        "needs_regeneration"
      ],
      "optional_fields": [
        "sub_category",
        "synthesis_short_name",
        "raw_json_content",
        "file_path",
        "content_hash",
        "last_item_update",
        "dependency_item_ids"
      ],
      "common_queries": [
        "SubcategorySynthesis.query.all()  # Get all records",
        "SubcategorySynthesis.query.get(id)  # Get by id",
        "SubcategorySynthesis.query.filter_by(synthesis_short_name='value').first()",
        "SubcategorySynthesis.query.filter(SubcategorySynthesis.created_at >= datetime.now()).all()"
      ],
      "related_models": [],
      "business_rules": [
        "Combination of main_category and sub_category must be unique",
        "Synthesis content is AI-generated based on related KB items",
        "item_count tracks number of source items used",
        "Dependency tracking enables incremental updates"
      ]
    },
    {
      "name": "AgentState",
      "table_name": "agent_state",
      "description": "A singleton table to store the operational state of the agent.",
      "purpose": "Singleton table tracking the operational state of the Knowledge Base Agent",
      "fields": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "primary_key": true,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Primary key identifier",
          "max_length": null,
          "index": null
        },
        {
          "name": "is_running",
          "type": "boolean",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": false,
          "foreign_key": null,
          "description": "Boolean flag for is running",
          "max_length": null,
          "index": null
        },
        {
          "name": "current_run_preferences",
          "type": "text",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Field for current run preferences",
          "max_length": null,
          "index": null
        },
        {
          "name": "plan_statuses",
          "type": "text",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Current status of the item",
          "max_length": null,
          "index": null
        },
        {
          "name": "phase_estimates",
          "type": "text",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Field for phase estimates",
          "max_length": null,
          "index": null
        },
        {
          "name": "current_phase_id",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Primary key identifier",
          "max_length": 100,
          "index": null
        },
        {
          "name": "current_phase_message",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Text value for current phase message",
          "max_length": 500,
          "index": null
        },
        {
          "name": "current_phase_status",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Current status of the item",
          "max_length": 50,
          "index": null
        },
        {
          "name": "stop_flag_status",
          "type": "boolean",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": false,
          "foreign_key": null,
          "description": "Current status of the item",
          "max_length": null,
          "index": null
        },
        {
          "name": "last_update",
          "type": "datetime",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": "function: utcnow",
          "foreign_key": null,
          "description": "Timestamp for last update",
          "max_length": null,
          "index": null
        },
        {
          "name": "current_task_id",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": "celery_task_state.task_id",
          "description": "Primary key identifier",
          "max_length": 36,
          "index": null
        },
        {
          "name": "task_queue_size",
          "type": "integer",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": 0,
          "foreign_key": null,
          "description": "Numeric value for task queue size",
          "max_length": null,
          "index": null
        }
      ],
      "relationships": [
        {
          "name": "current_task",
          "target_model": "CeleryTaskState",
          "relationship_type": "many-to-one",
          "foreign_key": "celery_task_state.task_id",
          "back_populates": null,
          "cascade": "CascadeOptions('merge,save-update')",
          "lazy": "select"
        }
      ],
      "constraints": [
        {
          "name": "foreignkey_constraint",
          "type": "foreignkey",
          "columns": [
            "current_task_id"
          ],
          "description": "Foreign key constraint on current_task_id"
        },
        {
          "name": "primarykey_constraint",
          "type": "primarykey",
          "columns": [
            "id"
          ],
          "description": "Primary key constraint on id"
        }
      ],
      "indexes": [],
      "primary_keys": [
        "id"
      ],
      "foreign_keys": [
        "current_task_id"
      ],
      "unique_fields": [],
      "required_fields": [
        "is_running",
        "stop_flag_status",
        "last_update"
      ],
      "optional_fields": [
        "current_run_preferences",
        "plan_statuses",
        "phase_estimates",
        "current_phase_id",
        "current_phase_message",
        "current_phase_status",
        "current_task_id",
        "task_queue_size"
      ],
      "common_queries": [
        "AgentState.query.all()  # Get all records",
        "AgentState.query.get(id)  # Get by id",
        "AgentState.query.filter(AgentState.last_update >= datetime.now()).all()"
      ],
      "related_models": [
        "CeleryTaskState"
      ],
      "business_rules": [
        "Singleton table - only one record should exist",
        "Tracks current agent execution state and progress",
        "Links to active Celery task via current_task_id",
        "JSON fields store complex state information"
      ]
    },
    {
      "name": "Schedule",
      "table_name": "schedule",
      "description": "The base class of the :attr:`.SQLAlchemy.Model` declarative model class.",
      "purpose": "Manages automated scheduling for recurring agent execution tasks",
      "fields": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "primary_key": true,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Primary key identifier",
          "max_length": null,
          "index": null
        },
        {
          "name": "name",
          "type": "string",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Name or identifier",
          "max_length": 255,
          "index": null
        },
        {
          "name": "description",
          "type": "text",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Description or summary text",
          "max_length": null,
          "index": null
        },
        {
          "name": "frequency",
          "type": "string",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Text value for frequency",
          "max_length": 50,
          "index": null
        },
        {
          "name": "time",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Text value for time",
          "max_length": 10,
          "index": null
        },
        {
          "name": "day_of_week",
          "type": "integer",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Numeric value for day of week",
          "max_length": null,
          "index": null
        },
        {
          "name": "day_of_month",
          "type": "integer",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Numeric value for day of month",
          "max_length": null,
          "index": null
        },
        {
          "name": "cron_expression",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Text value for cron expression",
          "max_length": 100,
          "index": null
        },
        {
          "name": "pipeline_type",
          "type": "string",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": "full",
          "foreign_key": null,
          "description": "Text value for pipeline type",
          "max_length": 50,
          "index": null
        },
        {
          "name": "pipeline_config",
          "type": "text",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Field for pipeline config",
          "max_length": null,
          "index": null
        },
        {
          "name": "enabled",
          "type": "boolean",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": true,
          "foreign_key": null,
          "description": "Whether the item is enabled/active",
          "max_length": null,
          "index": null
        },
        {
          "name": "created_at",
          "type": "datetime",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Timestamp when record was created",
          "max_length": null,
          "index": null
        },
        {
          "name": "last_updated",
          "type": "datetime",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Timestamp when record was last updated",
          "max_length": null,
          "index": null
        },
        {
          "name": "next_run",
          "type": "datetime",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Timestamp for next run",
          "max_length": null,
          "index": null
        },
        {
          "name": "last_run",
          "type": "datetime",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Timestamp for last run",
          "max_length": null,
          "index": null
        }
      ],
      "relationships": [
        {
          "name": "runs",
          "target_model": "ScheduleRun",
          "relationship_type": "one-to-many",
          "foreign_key": null,
          "back_populates": "schedule",
          "cascade": "CascadeOptions('delete,delete-orphan,expunge,merge,refresh-expire,save-update')",
          "lazy": "True"
        }
      ],
      "constraints": [
        {
          "name": "primarykey_constraint",
          "type": "primarykey",
          "columns": [
            "id"
          ],
          "description": "Primary key constraint on id"
        }
      ],
      "indexes": [],
      "primary_keys": [
        "id"
      ],
      "foreign_keys": [],
      "unique_fields": [],
      "required_fields": [
        "name",
        "frequency",
        "pipeline_type",
        "enabled",
        "created_at",
        "last_updated"
      ],
      "optional_fields": [
        "description",
        "time",
        "day_of_week",
        "day_of_month",
        "cron_expression",
        "pipeline_config",
        "next_run",
        "last_run"
      ],
      "common_queries": [
        "Schedule.query.all()  # Get all records",
        "Schedule.query.get(id)  # Get by id",
        "Schedule.query.filter_by(name='value').first()",
        "Schedule.query.filter_by(enabled=True).all()",
        "instance.runs  # Access related ScheduleRun records",
        "Schedule.query.filter(Schedule.created_at >= datetime.now()).all()"
      ],
      "related_models": [
        "ScheduleRun"
      ],
      "business_rules": [
        "Supports multiple frequency types (manual, daily, weekly, monthly, custom)",
        "Custom schedules use cron expressions",
        "Pipeline configuration stored as JSON",
        "next_run calculated based on frequency and last execution"
      ]
    },
    {
      "name": "CeleryTaskState",
      "table_name": "celery_task_state",
      "description": "Track Celery task execution state, extending current state management.",
      "purpose": "Tracks execution state and progress of Celery background tasks",
      "fields": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "primary_key": true,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Primary key identifier",
          "max_length": null,
          "index": null
        },
        {
          "name": "task_id",
          "type": "string",
          "nullable": false,
          "primary_key": false,
          "unique": true,
          "default": null,
          "foreign_key": null,
          "description": "Unique identifier for task tracking",
          "max_length": 36,
          "index": true
        },
        {
          "name": "celery_task_id",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Primary key identifier",
          "max_length": 36,
          "index": true
        },
        {
          "name": "task_type",
          "type": "string",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Text value for task type",
          "max_length": 100,
          "index": true
        },
        {
          "name": "status",
          "type": "string",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": "PENDING",
          "foreign_key": null,
          "description": "Current status of the item",
          "max_length": 20,
          "index": true
        },
        {
          "name": "current_phase_id",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Primary key identifier",
          "max_length": 50,
          "index": null
        },
        {
          "name": "current_phase_message",
          "type": "text",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Field for current phase message",
          "max_length": null,
          "index": null
        },
        {
          "name": "progress_percentage",
          "type": "integer",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": 0,
          "foreign_key": null,
          "description": "Numeric value for progress percentage",
          "max_length": null,
          "index": null
        },
        {
          "name": "preferences",
          "type": "json",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Field for preferences",
          "max_length": null,
          "index": null
        },
        {
          "name": "result_data",
          "type": "json",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Field for result data",
          "max_length": null,
          "index": null
        },
        {
          "name": "error_message",
          "type": "text",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Field for error message",
          "max_length": null,
          "index": null
        },
        {
          "name": "traceback",
          "type": "text",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Field for traceback",
          "max_length": null,
          "index": null
        },
        {
          "name": "created_at",
          "type": "datetime",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": "function: utcnow",
          "foreign_key": null,
          "description": "Timestamp when record was created",
          "max_length": null,
          "index": null
        },
        {
          "name": "started_at",
          "type": "datetime",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Timestamp for started at",
          "max_length": null,
          "index": null
        },
        {
          "name": "updated_at",
          "type": "datetime",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": "function: utcnow",
          "foreign_key": null,
          "description": "Timestamp when record was last updated",
          "max_length": null,
          "index": null
        },
        {
          "name": "completed_at",
          "type": "datetime",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Timestamp for completed at",
          "max_length": null,
          "index": null
        }
      ],
      "relationships": [],
      "constraints": [
        {
          "name": "primarykey_constraint",
          "type": "primarykey",
          "columns": [
            "id"
          ],
          "description": "Primary key constraint on id"
        }
      ],
      "indexes": [
        {
          "name": "ix_celery_task_state_celery_task_id",
          "columns": [
            "celery_task_id"
          ],
          "unique": false,
          "description": "Index on celery_task_id"
        },
        {
          "name": "ix_celery_task_state_task_id",
          "columns": [
            "task_id"
          ],
          "unique": true,
          "description": "Index on task_id (unique)"
        },
        {
          "name": "ix_celery_task_state_task_type",
          "columns": [
            "task_type"
          ],
          "unique": false,
          "description": "Index on task_type"
        },
        {
          "name": "ix_celery_task_state_status",
          "columns": [
            "status"
          ],
          "unique": false,
          "description": "Index on status"
        }
      ],
      "primary_keys": [
        "id"
      ],
      "foreign_keys": [],
      "unique_fields": [
        "task_id"
      ],
      "required_fields": [
        "task_id",
        "task_type",
        "status"
      ],
      "optional_fields": [
        "celery_task_id",
        "current_phase_id",
        "current_phase_message",
        "progress_percentage",
        "preferences",
        "result_data",
        "error_message",
        "traceback",
        "created_at",
        "started_at",
        "updated_at",
        "completed_at"
      ],
      "common_queries": [
        "CeleryTaskState.query.all()  # Get all records",
        "CeleryTaskState.query.get(id)  # Get by id",
        "CeleryTaskState.query.filter_by(status=True).all()",
        "CeleryTaskState.query.filter(CeleryTaskState.created_at >= datetime.now()).all()"
      ],
      "related_models": [],
      "business_rules": [
        "Each task has unique task_id for tracking",
        "Status follows Celery state machine (PENDING \u2192 PROGRESS \u2192 SUCCESS/FAILURE)",
        "Progress tracking enables real-time UI updates",
        "Preferences and results stored as JSON"
      ]
    },
    {
      "name": "ScheduleRun",
      "table_name": "schedule_run",
      "description": "The base class of the :attr:`.SQLAlchemy.Model` declarative model class.",
      "purpose": "Records execution history and results of scheduled agent runs",
      "fields": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "primary_key": true,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Primary key identifier",
          "max_length": null,
          "index": null
        },
        {
          "name": "schedule_id",
          "type": "integer",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": "schedule.id",
          "description": "Primary key identifier",
          "max_length": null,
          "index": null
        },
        {
          "name": "execution_time",
          "type": "datetime",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Timestamp for execution time",
          "max_length": null,
          "index": null
        },
        {
          "name": "status",
          "type": "string",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Current status of the item",
          "max_length": 20,
          "index": null
        },
        {
          "name": "duration",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Text value for duration",
          "max_length": 50,
          "index": null
        },
        {
          "name": "processed_items",
          "type": "integer",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": 0,
          "foreign_key": null,
          "description": "Numeric value for processed items",
          "max_length": null,
          "index": null
        },
        {
          "name": "error_message",
          "type": "text",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Field for error message",
          "max_length": null,
          "index": null
        },
        {
          "name": "logs",
          "type": "text",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Field for logs",
          "max_length": null,
          "index": null
        }
      ],
      "relationships": [
        {
          "name": "schedule",
          "target_model": "Schedule",
          "relationship_type": "many-to-one",
          "foreign_key": "schedule.id",
          "back_populates": "runs",
          "cascade": "CascadeOptions('merge,save-update')",
          "lazy": "select"
        }
      ],
      "constraints": [
        {
          "name": "foreignkey_constraint",
          "type": "foreignkey",
          "columns": [
            "schedule_id"
          ],
          "description": "Foreign key constraint on schedule_id"
        },
        {
          "name": "primarykey_constraint",
          "type": "primarykey",
          "columns": [
            "id"
          ],
          "description": "Primary key constraint on id"
        }
      ],
      "indexes": [],
      "primary_keys": [
        "id"
      ],
      "foreign_keys": [
        "schedule_id"
      ],
      "unique_fields": [],
      "required_fields": [
        "schedule_id",
        "execution_time",
        "status"
      ],
      "optional_fields": [
        "duration",
        "processed_items",
        "error_message",
        "logs"
      ],
      "common_queries": [
        "ScheduleRun.query.all()  # Get all records",
        "ScheduleRun.query.get(id)  # Get by id",
        "ScheduleRun.query.filter_by(status=True).all()",
        "ScheduleRun.query.filter(ScheduleRun.execution_time >= datetime.now()).all()"
      ],
      "related_models": [
        "Schedule"
      ],
      "business_rules": []
    },
    {
      "name": "Setting",
      "table_name": "settings",
      "description": "The base class of the :attr:`.SQLAlchemy.Model` declarative model class.",
      "purpose": "Stores system configuration key-value pairs",
      "fields": [
        {
          "name": "key",
          "type": "string",
          "nullable": false,
          "primary_key": true,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Text value for key",
          "max_length": 50,
          "index": null
        },
        {
          "name": "value",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Text value for value",
          "max_length": 255,
          "index": null
        }
      ],
      "relationships": [],
      "constraints": [
        {
          "name": "primarykey_constraint",
          "type": "primarykey",
          "columns": [
            "key"
          ],
          "description": "Primary key constraint on key"
        }
      ],
      "indexes": [],
      "primary_keys": [
        "key"
      ],
      "foreign_keys": [],
      "unique_fields": [],
      "required_fields": [],
      "optional_fields": [
        "value"
      ],
      "common_queries": [
        "Setting.query.all()  # Get all records",
        "Setting.query.get(id)  # Get by key"
      ],
      "related_models": [],
      "business_rules": []
    },
    {
      "name": "ChatSession",
      "table_name": "chat_session",
      "description": "The base class of the :attr:`.SQLAlchemy.Model` declarative model class.",
      "purpose": "Manages conversational AI chat sessions with metadata and message tracking",
      "fields": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "primary_key": true,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Primary key identifier",
          "max_length": null,
          "index": null
        },
        {
          "name": "session_id",
          "type": "string",
          "nullable": false,
          "primary_key": false,
          "unique": true,
          "default": null,
          "foreign_key": null,
          "description": "Unique identifier for session tracking",
          "max_length": 100,
          "index": null
        },
        {
          "name": "title",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Title or name of the item",
          "max_length": 255,
          "index": null
        },
        {
          "name": "created_at",
          "type": "datetime",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Timestamp when record was created",
          "max_length": null,
          "index": null
        },
        {
          "name": "last_updated",
          "type": "datetime",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Timestamp when record was last updated",
          "max_length": null,
          "index": null
        },
        {
          "name": "is_archived",
          "type": "boolean",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": false,
          "foreign_key": null,
          "description": "Whether the item is archived",
          "max_length": null,
          "index": null
        },
        {
          "name": "message_count",
          "type": "integer",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": 0,
          "foreign_key": null,
          "description": "Numeric count or quantity",
          "max_length": null,
          "index": null
        }
      ],
      "relationships": [
        {
          "name": "messages",
          "target_model": "ChatMessage",
          "relationship_type": "one-to-many",
          "foreign_key": null,
          "back_populates": "session",
          "cascade": "CascadeOptions('delete,delete-orphan,expunge,merge,refresh-expire,save-update')",
          "lazy": "True"
        }
      ],
      "constraints": [
        {
          "name": "primarykey_constraint",
          "type": "primarykey",
          "columns": [
            "id"
          ],
          "description": "Primary key constraint on id"
        },
        {
          "name": "unique_constraint",
          "type": "unique",
          "columns": [
            "session_id"
          ],
          "description": "Ensures session_id values are unique"
        }
      ],
      "indexes": [],
      "primary_keys": [
        "id"
      ],
      "foreign_keys": [],
      "unique_fields": [
        "session_id"
      ],
      "required_fields": [
        "session_id",
        "created_at",
        "last_updated",
        "is_archived",
        "message_count"
      ],
      "optional_fields": [
        "title"
      ],
      "common_queries": [
        "ChatSession.query.all()  # Get all records",
        "ChatSession.query.get(id)  # Get by id",
        "ChatSession.query.filter_by(is_archived=True).all()",
        "instance.messages  # Access related ChatMessage records",
        "ChatSession.query.filter(ChatSession.created_at >= datetime.now()).all()"
      ],
      "related_models": [
        "ChatMessage"
      ],
      "business_rules": [
        "Each session has unique session_id",
        "message_count is automatically maintained",
        "Sessions can be archived but not deleted",
        "Cascade delete removes all related messages"
      ]
    },
    {
      "name": "Embedding",
      "table_name": "embedding",
      "description": "The base class of the :attr:`.SQLAlchemy.Model` declarative model class.",
      "purpose": "Stores vector embeddings for knowledge base items and synthesis documents",
      "fields": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "primary_key": true,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Primary key identifier",
          "max_length": null,
          "index": null
        },
        {
          "name": "document_id",
          "type": "integer",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Primary key identifier",
          "max_length": null,
          "index": null
        },
        {
          "name": "document_type",
          "type": "string",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Text value for document type",
          "max_length": 50,
          "index": null
        },
        {
          "name": "embedding",
          "type": "binary",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Field for embedding",
          "max_length": null,
          "index": null
        },
        {
          "name": "model",
          "type": "string",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Text value for model",
          "max_length": 100,
          "index": null
        },
        {
          "name": "created_at",
          "type": "datetime",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Timestamp when record was created",
          "max_length": null,
          "index": null
        }
      ],
      "relationships": [],
      "constraints": [
        {
          "name": "primarykey_constraint",
          "type": "primarykey",
          "columns": [
            "id"
          ],
          "description": "Primary key constraint on id"
        }
      ],
      "indexes": [
        {
          "name": "idx_embedding_doc_type_id",
          "columns": [
            "document_type",
            "document_id"
          ],
          "unique": false,
          "description": "Index on document_type, document_id"
        }
      ],
      "primary_keys": [
        "id"
      ],
      "foreign_keys": [],
      "unique_fields": [],
      "required_fields": [
        "document_id",
        "document_type",
        "embedding",
        "model",
        "created_at"
      ],
      "optional_fields": [],
      "common_queries": [
        "Embedding.query.all()  # Get all records",
        "Embedding.query.get(id)  # Get by id",
        "Embedding.query.filter(Embedding.created_at >= datetime.now()).all()"
      ],
      "related_models": [],
      "business_rules": []
    },
    {
      "name": "ChatMessage",
      "table_name": "chat_message",
      "description": "The base class of the :attr:`.SQLAlchemy.Model` declarative model class.",
      "purpose": "Stores individual messages within chat sessions with AI response metadata",
      "fields": [
        {
          "name": "id",
          "type": "integer",
          "nullable": false,
          "primary_key": true,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Primary key identifier",
          "max_length": null,
          "index": null
        },
        {
          "name": "session_id",
          "type": "string",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": "chat_session.session_id",
          "description": "Unique identifier for session tracking",
          "max_length": 100,
          "index": null
        },
        {
          "name": "role",
          "type": "string",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Text value for role",
          "max_length": 20,
          "index": null
        },
        {
          "name": "content",
          "type": "text",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Main content or body text",
          "max_length": null,
          "index": null
        },
        {
          "name": "created_at",
          "type": "datetime",
          "nullable": false,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Timestamp when record was created",
          "max_length": null,
          "index": null
        },
        {
          "name": "model_used",
          "type": "string",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Text value for model used",
          "max_length": 100,
          "index": null
        },
        {
          "name": "sources",
          "type": "text",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Field for sources",
          "max_length": null,
          "index": null
        },
        {
          "name": "context_stats",
          "type": "text",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Field for context stats",
          "max_length": null,
          "index": null
        },
        {
          "name": "performance_metrics",
          "type": "text",
          "nullable": true,
          "primary_key": false,
          "unique": null,
          "default": null,
          "foreign_key": null,
          "description": "Field for performance metrics",
          "max_length": null,
          "index": null
        }
      ],
      "relationships": [
        {
          "name": "session",
          "target_model": "ChatSession",
          "relationship_type": "many-to-one",
          "foreign_key": "chat_session.session_id",
          "back_populates": "messages",
          "cascade": "CascadeOptions('merge,save-update')",
          "lazy": "select"
        }
      ],
      "constraints": [
        {
          "name": "foreignkey_constraint",
          "type": "foreignkey",
          "columns": [
            "session_id"
          ],
          "description": "Foreign key constraint on session_id"
        },
        {
          "name": "primarykey_constraint",
          "type": "primarykey",
          "columns": [
            "id"
          ],
          "description": "Primary key constraint on id"
        }
      ],
      "indexes": [],
      "primary_keys": [
        "id"
      ],
      "foreign_keys": [
        "session_id"
      ],
      "unique_fields": [],
      "required_fields": [
        "session_id",
        "role",
        "content",
        "created_at"
      ],
      "optional_fields": [
        "model_used",
        "sources",
        "context_stats",
        "performance_metrics"
      ],
      "common_queries": [
        "ChatMessage.query.all()  # Get all records",
        "ChatMessage.query.get(id)  # Get by id",
        "ChatMessage.query.filter(ChatMessage.created_at >= datetime.now()).all()"
      ],
      "related_models": [
        "ChatSession"
      ],
      "business_rules": [
        "Messages belong to a chat session",
        "Role must be either \"user\" or \"assistant\"",
        "AI responses include source attribution and metrics",
        "Performance data stored for optimization"
      ]
    }
  ]
}