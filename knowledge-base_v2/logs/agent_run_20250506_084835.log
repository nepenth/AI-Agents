2025-05-06 08:48:35 - root - INFO - Logging configured for target 'web' with level INFO. Log file: /home/nepenthe/git_repos/agents/knowledge-base_v2/logs/agent_run_20250506_084835.log
2025-05-06 08:48:35 - root - INFO - Logging configured for target 'web' with level INFO. Log file: /home/nepenthe/git_repos/agents/knowledge-base_v2/logs/agent_run_20250506_084835.log
2025-05-06 08:48:35 - __main__ - INFO - Configuration loaded successfully for web application.
2025-05-06 08:48:35 - engineio.server - INFO - Server initialized for threading.
2025-05-06 08:48:35 - __main__ - INFO - Initializing database tables...
2025-05-06 08:48:35 - __main__ - INFO - Database tables checked/created.
2025-05-06 08:48:35 - __main__ - INFO - Registered Flask blueprints.
2025-05-06 08:48:35 - knowledge_base_agent.web.sockets - INFO - SocketIO handlers registered for /agent namespace.
2025-05-06 08:48:35 - __main__ - INFO - Registered SocketIO handlers.
2025-05-06 08:48:35 - __main__ - INFO - Attempting to start the web server on port 5001...
2025-05-06 08:48:35 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://10.0.10.4:5001
2025-05-06 08:48:35 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-06 08:48:38 - werkzeug - INFO - 10.0.11.66 - - [06/May/2025 08:48:38] "GET / HTTP/1.1" 200 -
2025-05-06 08:48:38 - werkzeug - INFO - 10.0.11.66 - - [06/May/2025 08:48:38] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-06 08:48:38 - werkzeug - INFO - 10.0.11.66 - - [06/May/2025 08:48:38] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-05-06 08:48:38 - engineio.server - INFO - 7RWB9UWUBFg4tipwAAAA: Sending packet OPEN data {'sid': '7RWB9UWUBFg4tipwAAAA', 'upgrades': ['websocket'], 'pingTimeout': 20000, 'pingInterval': 25000, 'maxPayload': 1000000}
2025-05-06 08:48:38 - werkzeug - INFO - 10.0.11.66 - - [06/May/2025 08:48:38] "GET /socket.io/?EIO=4&transport=polling&t=i9t181i7 HTTP/1.1" 200 -
2025-05-06 08:48:38 - engineio.server - INFO - 7RWB9UWUBFg4tipwAAAA: Received packet MESSAGE data 0/agent,
2025-05-06 08:48:38 - engineio.server - INFO - 7RWB9UWUBFg4tipwAAAA: Received request to upgrade to websocket
2025-05-06 08:48:38 - knowledge_base_agent.web.sockets - INFO - Client connected to /agent namespace. Auth: None
2025-05-06 08:48:38 - socketio.server - INFO - emitting event "status_update" to 8i0GL6_TRx8hhOTFAAAB [/agent]
2025-05-06 08:48:38 - werkzeug - INFO - 10.0.11.66 - - [06/May/2025 08:48:38] "GET /socket.io/?EIO=4&transport=polling&t=i9t1xtgt&sid=7RWB9UWUBFg4tipwAAAA HTTP/1.1" 200 -
2025-05-06 08:48:38 - engineio.server - INFO - 7RWB9UWUBFg4tipwAAAA: Sending packet MESSAGE data 2/agent,["status_update",{"status":"idle"}]
2025-05-06 08:48:38 - engineio.server - INFO - 7RWB9UWUBFg4tipwAAAA: Sending packet MESSAGE data 0/agent,{"sid":"8i0GL6_TRx8hhOTFAAAB"}
2025-05-06 08:48:38 - werkzeug - INFO - 10.0.11.66 - - [06/May/2025 08:48:38] "POST /socket.io/?EIO=4&transport=polling&t=i9t1wscp&sid=7RWB9UWUBFg4tipwAAAA HTTP/1.1" 200 -
2025-05-06 08:48:38 - werkzeug - INFO - 10.0.11.66 - - [06/May/2025 08:48:38] "GET /socket.io/?EIO=4&transport=polling&t=i9t2d04f&sid=7RWB9UWUBFg4tipwAAAA HTTP/1.1" 200 -
2025-05-06 08:48:38 - engineio.server - INFO - 7RWB9UWUBFg4tipwAAAA: Received packet MESSAGE data 0/logs,
2025-05-06 08:48:38 - engineio.server - INFO - 7RWB9UWUBFg4tipwAAAA: Sending packet MESSAGE data 4/logs,"Unable to connect"
2025-05-06 08:48:38 - werkzeug - INFO - 10.0.11.66 - - [06/May/2025 08:48:38] "POST /socket.io/?EIO=4&transport=polling&t=i9t2ebg9&sid=7RWB9UWUBFg4tipwAAAA HTTP/1.1" 200 -
2025-05-06 08:48:38 - engineio.server - INFO - 7RWB9UWUBFg4tipwAAAA: Upgrade to websocket successful
2025-05-06 08:48:38 - engineio.server - INFO - 7RWB9UWUBFg4tipwAAAA: Received packet MESSAGE data 2/agent,["get_status"]
2025-05-06 08:48:38 - socketio.server - INFO - received event "get_status" from 8i0GL6_TRx8hhOTFAAAB [/agent]
2025-05-06 08:48:38 - socketio.server - INFO - emitting event "status_update" to 8i0GL6_TRx8hhOTFAAAB [/agent]
2025-05-06 08:48:38 - engineio.server - INFO - 7RWB9UWUBFg4tipwAAAA: Sending packet MESSAGE data 2/agent,["status_update",{"status":"idle"}]
2025-05-06 08:49:03 - engineio.server - INFO - 7RWB9UWUBFg4tipwAAAA: Sending packet PING data None
2025-05-06 08:49:03 - engineio.server - INFO - 7RWB9UWUBFg4tipwAAAA: Received packet PONG data 
2025-05-06 08:49:13 - engineio.server - INFO - 7RWB9UWUBFg4tipwAAAA: Received packet MESSAGE data 2/agent,["start_agent",{"skip_fetch":false,"skip_git":true,"force_recache":false,"force_reinterpret":false,"force_recategorize":false,"force_regenerate":false}]
2025-05-06 08:49:13 - socketio.server - INFO - received event "start_agent" from 8i0GL6_TRx8hhOTFAAAB [/agent]
2025-05-06 08:49:13 - knowledge_base_agent.web.sockets - INFO - Received start_agent request. Data: {'skip_fetch': False, 'skip_git': True, 'force_recache': False, 'force_reinterpret': False, 'force_recategorize': False, 'force_regenerate': False}
2025-05-06 08:49:13 - __main__ - INFO - Attempting to start agent pipeline thread...
2025-05-06 08:49:13 - __main__ - INFO - Setting up background thread for pipeline...
2025-05-06 08:49:13 - __main__ - INFO - Pipeline background thread started.
2025-05-06 08:49:13 - __main__ - INFO - Pipeline background thread started successfully.
2025-05-06 08:49:13 - __main__ - INFO - (Web Thread) Initializing twscrape account pool...
2025-05-06 08:49:13 - __main__ - ERROR - (Web Thread) Failed to initialize or login twscrape pool: AccountsPool.add_account() missing 1 required positional argument: 'email_password'. Twitter features may fail.
Traceback (most recent call last):
  File "/home/nepenthe/git_repos/agents/knowledge-base_v2/knowledge_base_agent/main_web.py", line 145, in _run_pipeline_async
    await twscrape_pool_instance.add_account(cfg.x_username, cfg.x_password.get_secret_value(), cfg.x_username)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AccountsPool.add_account() missing 1 required positional argument: 'email_password'
2025-05-06 08:49:13 - knowledge_base_agent.interfaces.http_client - INFO - HttpClientManager initialized. Base URL: 'None', Timeout: 10.0s Read
2025-05-06 08:49:13 - knowledge_base_agent.interfaces.ollama - INFO - OllamaClient initialized for URL: http://whyland-ai.nakedsun.xyz:11434/
2025-05-06 08:49:13 - __main__ - INFO - (Web Thread) Playwright fetching enabled, initializing client...
2025-05-06 08:49:13 - knowledge_base_agent.interfaces.playwright_client - INFO - PlaywrightClient (Sync API) initialized. Headless: True
2025-05-06 08:49:13 - __main__ - INFO - (Web Thread) PlaywrightClient initialized.
2025-05-06 08:49:13 - knowledge_base_agent.processing.state - INFO - StateManager initialized. State file: /home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json
2025-05-06 08:49:13 - knowledge_base_agent.processing.pipeline - INFO - AgentPipeline initialized.
2025-05-06 08:49:13 - socketio.server - INFO - emitting event "status_update" to all [/agent]
2025-05-06 08:49:13 - engineio.server - INFO - 7RWB9UWUBFg4tipwAAAA: Sending packet MESSAGE data 2/agent,["status_update",{"status":"running","message":"Agent starting..."}]
2025-05-06 08:49:13 - knowledge_base_agent.processing.pipeline - INFO - Starting agent pipeline run with preferences: {}
2025-05-06 08:49:13 - socketio.server - INFO - emitting event "progress_update" to all [/agent]
2025-05-06 08:49:13 - engineio.server - INFO - 7RWB9UWUBFg4tipwAAAA: Sending packet MESSAGE data 2/agent,["progress_update",{"processed_count":0,"total_items":0,"current_phase":"Loading State","current_item_id":"","eta":"--:--:--"}]
2025-05-06 08:49:13 - knowledge_base_agent.processing.state - INFO - Attempting to load state from /home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json...
2025-05-06 08:49:13 - knowledge_base_agent.processing.state - WARNING - State file /home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json not found. Initializing empty state.
2025-05-06 08:49:13 - knowledge_base_agent.processing.state - INFO - Attempting to save state to /home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json...
2025-05-06 08:49:13 - knowledge_base_agent.processing.state - INFO - Successfully saved state. 0 unprocessed, 0 processed.
2025-05-06 08:49:13 - knowledge_base_agent.processing.pipeline - ERROR - Critical error during pipeline execution:
Traceback (most recent call last):
  File "/home/nepenthe/git_repos/agents/knowledge-base_v2/knowledge_base_agent/processing/pipeline.py", line 158, in run
    all_tweet_ids = self.state_manager.get_all_known_ids()
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'StateManager' object has no attribute 'get_all_known_ids'
2025-05-06 08:49:13 - knowledge_base_agent.processing.stats - WARNING - Stat error recording ignored (run not active): Pipeline
2025-05-06 08:49:13 - knowledge_base_agent.processing.state - INFO - Attempting to save state to /home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json...
2025-05-06 08:49:13 - knowledge_base_agent.processing.state - INFO - Successfully saved state. 0 unprocessed, 0 processed.
2025-05-06 08:49:13 - knowledge_base_agent.processing.pipeline - INFO - Run Statistics:
--- Processing Stats Report ---
Total Run Time: 0.01 seconds

Phase Summary:

Average LLM Durations (last 20):
  - Interpret: No data
  - Categorize: No data
  - Generate: No data
--- End Report ---
2025-05-06 08:49:13 - socketio.server - INFO - emitting event "status_update" to all [/agent]
2025-05-06 08:49:13 - engineio.server - INFO - 7RWB9UWUBFg4tipwAAAA: Sending packet MESSAGE data 2/agent,["status_update",{"status":"failed","message":"Agent run failed: 'StateManager' object has no attribute 'get_all_known_ids'"}]
2025-05-06 08:49:13 - socketio.server - INFO - emitting event "progress_update" to all [/agent]
2025-05-06 08:49:13 - engineio.server - INFO - 7RWB9UWUBFg4tipwAAAA: Sending packet MESSAGE data 2/agent,["progress_update",{"processed_count":0,"total_items":0,"current_phase":"Failed","current_item_id":"","eta":"00:00:00"}]
2025-05-06 08:49:13 - socketio.server - INFO - emitting event "status_update" to all [/agent]
2025-05-06 08:49:13 - engineio.server - INFO - 7RWB9UWUBFg4tipwAAAA: Sending packet MESSAGE data 2/agent,["status_update",{"status":"running","message":"Agent run finished."}]
2025-05-06 08:49:13 - knowledge_base_agent.interfaces.http_client - INFO - Closing shared httpx.AsyncClient.
2025-05-06 08:49:13 - __main__ - INFO - Pipeline background thread event loop finished.
