2025-05-13 16:34:16 - root - INFO - Logging configured for target 'web' with level INFO. Log file: /home/nepenthe/git_repos/agents/knowledge-base_v2/logs/agent_run_20250513_163416.log
2025-05-13 16:34:16 - root - INFO - Logging configured for target 'web' with level INFO. Log file: /home/nepenthe/git_repos/agents/knowledge-base_v2/logs/agent_run_20250513_163416.log
2025-05-13 16:34:16 - __main__ - INFO - Configuration loaded successfully for web application.
2025-05-13 16:34:16 - engineio.server - INFO - Server initialized for threading.
2025-05-13 16:34:16 - __main__ - INFO - Initializing database tables...
2025-05-13 16:34:16 - __main__ - INFO - Database tables checked/created.
2025-05-13 16:34:16 - __main__ - INFO - Registered Flask blueprints.
2025-05-13 16:34:16 - knowledge_base_agent.web.sockets - INFO - SocketIO handlers registered for /agent and /logs namespaces.
2025-05-13 16:34:16 - __main__ - INFO - Registered SocketIO handlers.
2025-05-13 16:34:16 - __main__ - INFO - WebSocket log handler configured with emitter.
2025-05-13 16:34:16 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:16 - __main__ - INFO - Sending direct TEST message to /logs namespace...
2025-05-13 16:34:16 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:16 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:16 - __main__ - INFO - Direct TEST message emitted.
2025-05-13 16:34:16 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:16 - __main__ - INFO - Attempting to start the web server on port 5001...
2025-05-13 16:34:16 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:16 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://10.0.10.4:5001
2025-05-13 16:34:16 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:16 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-13 16:34:16 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:17 - engineio.server - INFO - VAa4keyEnBYITb0pAAAA: Sending packet OPEN data {'sid': 'VAa4keyEnBYITb0pAAAA', 'upgrades': ['websocket'], 'pingTimeout': 20000, 'pingInterval': 25000, 'maxPayload': 1000000}
2025-05-13 16:34:17 - werkzeug - INFO - 10.0.11.66 - - [13/May/2025 16:34:17] "GET /socket.io/?EIO=4&transport=polling&t=yzli10vd HTTP/1.1" 200 -
2025-05-13 16:34:17 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:17 - engineio.server - INFO - VAa4keyEnBYITb0pAAAA: Received packet MESSAGE data 0/agent,
2025-05-13 16:34:17 - knowledge_base_agent.web.sockets - INFO - Client connected to /agent namespace. Auth: None
2025-05-13 16:34:17 - engineio.server - INFO - VAa4keyEnBYITb0pAAAA: Received request to upgrade to websocket
2025-05-13 16:34:17 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:17 - socketio.server - INFO - emitting event "status_update" to Xij5SMSkbV4HKjf2AAAB [/agent]
2025-05-13 16:34:17 - engineio.server - INFO - VAa4keyEnBYITb0pAAAA: Sending packet MESSAGE data 2/agent,["status_update",{"status":"idle"}]
2025-05-13 16:34:17 - werkzeug - INFO - 10.0.11.66 - - [13/May/2025 16:34:17] "GET /socket.io/?EIO=4&transport=polling&t=yzli9k5q&sid=VAa4keyEnBYITb0pAAAA HTTP/1.1" 200 -
2025-05-13 16:34:17 - engineio.server - INFO - VAa4keyEnBYITb0pAAAA: Sending packet MESSAGE data 0/agent,{"sid":"Xij5SMSkbV4HKjf2AAAB"}
2025-05-13 16:34:17 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:17 - werkzeug - INFO - 10.0.11.66 - - [13/May/2025 16:34:17] "POST /socket.io/?EIO=4&transport=polling&t=yzli8ffz&sid=VAa4keyEnBYITb0pAAAA HTTP/1.1" 200 -
2025-05-13 16:34:17 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:17 - engineio.server - INFO - VAa4keyEnBYITb0pAAAA: Upgrade to websocket successful
2025-05-13 16:34:17 - engineio.server - INFO - VAa4keyEnBYITb0pAAAA: Received packet MESSAGE data 0/logs,
2025-05-13 16:34:17 - knowledge_base_agent.web.sockets - INFO - Client connected to /logs namespace. Auth: None
2025-05-13 16:34:17 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:17 - engineio.server - INFO - VAa4keyEnBYITb0pAAAA: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Client connected to /logs namespace. Auth: None"}]
2025-05-13 16:34:17 - engineio.server - INFO - VAa4keyEnBYITb0pAAAA: Sending packet MESSAGE data 0/logs,{"sid":"lHuWM7JGu17DHFdpAAAC"}
2025-05-13 16:34:17 - engineio.server - INFO - VAa4keyEnBYITb0pAAAA: Received packet MESSAGE data 2/agent,["get_status"]
2025-05-13 16:34:17 - socketio.server - INFO - received event "get_status" from Xij5SMSkbV4HKjf2AAAB [/agent]
2025-05-13 16:34:17 - socketio.server - INFO - emitting event "status_update" to Xij5SMSkbV4HKjf2AAAB [/agent]
2025-05-13 16:34:17 - engineio.server - INFO - VAa4keyEnBYITb0pAAAA: Sending packet MESSAGE data 2/agent,["status_update",{"status":"idle"}]
2025-05-13 16:34:36 - werkzeug - INFO - 10.0.11.66 - - [13/May/2025 16:34:36] "GET / HTTP/1.1" 200 -
2025-05-13 16:34:36 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:36 - engineio.server - INFO - VAa4keyEnBYITb0pAAAA: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: 10.0.11.66 - - [13/May/2025 16:34:36] \"GET / HTTP/1.1\" 200 -"}]
2025-05-13 16:34:36 - knowledge_base_agent.web.sockets - INFO - Client disconnected from /agent namespace.
2025-05-13 16:34:36 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:36 - engineio.server - INFO - VAa4keyEnBYITb0pAAAA: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Client disconnected from /agent namespace."}]
2025-05-13 16:34:36 - knowledge_base_agent.web.sockets - INFO - Client disconnected from /logs namespace.
2025-05-13 16:34:36 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:36 - engineio.server - INFO - VAa4keyEnBYITb0pAAAA: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Client disconnected from /logs namespace."}]
2025-05-13 16:34:36 - werkzeug - INFO - 10.0.11.66 - - [13/May/2025 16:34:36] "GET /socket.io/?EIO=4&transport=websocket&sid=VAa4keyEnBYITb0pAAAA HTTP/1.1" 200 -
2025-05-13 16:34:36 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:36 - werkzeug - INFO - 10.0.11.66 - - [13/May/2025 16:34:36] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-05-13 16:34:36 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:36 - werkzeug - INFO - 10.0.11.66 - - [13/May/2025 16:34:36] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-05-13 16:34:36 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:36 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet OPEN data {'sid': 'cLCJiMcF09l4-tyuAAAD', 'upgrades': ['websocket'], 'pingTimeout': 20000, 'pingInterval': 25000, 'maxPayload': 1000000}
2025-05-13 16:34:36 - werkzeug - INFO - 10.0.11.66 - - [13/May/2025 16:34:36] "GET /socket.io/?EIO=4&transport=polling&t=z007oza8 HTTP/1.1" 200 -
2025-05-13 16:34:36 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:36 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Received packet MESSAGE data 0/agent,
2025-05-13 16:34:36 - knowledge_base_agent.web.sockets - INFO - Client connected to /agent namespace. Auth: None
2025-05-13 16:34:36 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:36 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Received request to upgrade to websocket
2025-05-13 16:34:36 - socketio.server - INFO - emitting event "status_update" to 7mU154mvWJ3bFu_zAAAE [/agent]
2025-05-13 16:34:36 - werkzeug - INFO - 10.0.11.66 - - [13/May/2025 16:34:36] "GET /socket.io/?EIO=4&transport=polling&t=z0082677&sid=cLCJiMcF09l4-tyuAAAD HTTP/1.1" 200 -
2025-05-13 16:34:36 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/agent,["status_update",{"status":"idle"}]
2025-05-13 16:34:36 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:36 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 0/agent,{"sid":"7mU154mvWJ3bFu_zAAAE"}
2025-05-13 16:34:36 - werkzeug - INFO - 10.0.11.66 - - [13/May/2025 16:34:36] "POST /socket.io/?EIO=4&transport=polling&t=z0082htt&sid=cLCJiMcF09l4-tyuAAAD HTTP/1.1" 200 -
2025-05-13 16:34:36 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:36 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Upgrade to websocket successful
2025-05-13 16:34:36 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Received packet MESSAGE data 0/logs,
2025-05-13 16:34:36 - knowledge_base_agent.web.sockets - INFO - Client connected to /logs namespace. Auth: None
2025-05-13 16:34:36 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:36 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Client connected to /logs namespace. Auth: None"}]
2025-05-13 16:34:36 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 0/logs,{"sid":"u0oCYVKRWw1-D5uXAAAF"}
2025-05-13 16:34:36 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Received packet MESSAGE data 2/agent,["get_status"]
2025-05-13 16:34:36 - socketio.server - INFO - received event "get_status" from 7mU154mvWJ3bFu_zAAAE [/agent]
2025-05-13 16:34:36 - socketio.server - INFO - emitting event "status_update" to 7mU154mvWJ3bFu_zAAAE [/agent]
2025-05-13 16:34:36 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/agent,["status_update",{"status":"idle"}]
2025-05-13 16:34:39 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Received packet MESSAGE data 2/agent,["start_agent",{"run_only_phase":"Full","skip_fetch":false,"skip_git":true,"force_recache":false,"force_reinterpret":false,"force_recategorize":false,"force_regenerate":false}]
2025-05-13 16:34:39 - socketio.server - INFO - received event "start_agent" from 7mU154mvWJ3bFu_zAAAE [/agent]
2025-05-13 16:34:39 - knowledge_base_agent.web.sockets - INFO - Received start_agent request. Data: {'run_only_phase': 'Full', 'skip_fetch': False, 'skip_git': True, 'force_recache': False, 'force_reinterpret': False, 'force_recategorize': False, 'force_regenerate': False}
2025-05-13 16:34:39 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:39 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Received start_agent request. Data: {'run_only_phase': 'Full', 'skip_fetch': False, 'skip_git': True, 'force_recache': False, 'force_reinterpret': False, 'force_recategorize': False, 'force_regenerate': False}"}]
2025-05-13 16:34:39 - __main__ - INFO - Attempting to start agent pipeline thread...
2025-05-13 16:34:39 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:39 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Attempting to start agent pipeline thread..."}]
2025-05-13 16:34:39 - __main__ - INFO - Setting up background thread for pipeline...
2025-05-13 16:34:39 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:39 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Setting up background thread for pipeline..."}]
2025-05-13 16:34:39 - __main__ - INFO - Pipeline background thread started.
2025-05-13 16:34:39 - __main__ - INFO - Pipeline background thread started successfully.
2025-05-13 16:34:39 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:39 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Pipeline background thread started."}]
2025-05-13 16:34:39 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:39 - __main__ - INFO - (Web Thread) Initializing twscrape API and account pool...
2025-05-13 16:34:39 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Pipeline background thread started successfully."}]
2025-05-13 16:34:39 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:39 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: (Web Thread) Initializing twscrape API and account pool..."}]
2025-05-13 16:34:39 - __main__ - INFO - (Web Thread) twscrape API and pool initialized, accounts logged in.
2025-05-13 16:34:39 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:39 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: (Web Thread) twscrape API and pool initialized, accounts logged in."}]
2025-05-13 16:34:39 - knowledge_base_agent.interfaces.http_client - INFO - HttpClientManager initialized. Base URL: 'None', Timeout: 10.0s Read
2025-05-13 16:34:39 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:39 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: HttpClientManager initialized. Base URL: 'None', Timeout: 10.0s Read"}]
2025-05-13 16:34:39 - knowledge_base_agent.interfaces.ollama - INFO - OllamaClient initialized for URL: http://whyland-ai.nakedsun.xyz:11434/
2025-05-13 16:34:39 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:39 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: OllamaClient initialized for URL: http://whyland-ai.nakedsun.xyz:11434/"}]
2025-05-13 16:34:39 - __main__ - INFO - (Web Thread) X credentials and bookmarks URL present, initializing Playwright client...
2025-05-13 16:34:39 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:39 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: (Web Thread) X credentials and bookmarks URL present, initializing Playwright client..."}]
2025-05-13 16:34:39 - knowledge_base_agent.interfaces.playwright_client - INFO - PlaywrightClient (Async API) initialized. Headless: True
2025-05-13 16:34:39 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:39 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: PlaywrightClient (Async API) initialized. Headless: True"}]
2025-05-13 16:34:39 - __main__ - INFO - (Web Thread) Attempting initial Playwright login...
2025-05-13 16:34:39 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:39 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: (Web Thread) Attempting initial Playwright login..."}]
2025-05-13 16:34:40 - knowledge_base_agent.interfaces.playwright_client - INFO - Playwright async instance and browser initialized.
2025-05-13 16:34:40 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:40 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Playwright async instance and browser initialized."}]
2025-05-13 16:34:40 - knowledge_base_agent.interfaces.playwright_client - INFO - Attempting X login via Playwright (async)...
2025-05-13 16:34:40 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:40 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Attempting X login via Playwright (async)..."}]
2025-05-13 16:34:43 - knowledge_base_agent.interfaces.playwright_client - INFO - (Async) Navigating to X login page: https://x.com/login
2025-05-13 16:34:43 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:43 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: (Async) Navigating to X login page: https://x.com/login"}]
2025-05-13 16:34:46 - knowledge_base_agent.interfaces.playwright_client - INFO - (Async) Entering username...
2025-05-13 16:34:46 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:46 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: (Async) Entering username..."}]
2025-05-13 16:34:49 - knowledge_base_agent.interfaces.playwright_client - INFO - (Async) Entering password...
2025-05-13 16:34:49 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:49 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: (Async) Entering password..."}]
2025-05-13 16:34:49 - knowledge_base_agent.interfaces.playwright_client - INFO - (Async) Waiting for login confirmation (e.g., navigation to home)...
2025-05-13 16:34:49 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:49 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: (Async) Waiting for login confirmation (e.g., navigation to home)..."}]
2025-05-13 16:34:51 - knowledge_base_agent.interfaces.playwright_client - INFO - (Async) X Login successful.
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: (Async) X Login successful."}]
2025-05-13 16:34:51 - __main__ - INFO - (Web Thread) Playwright initial login appears successful.
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: (Web Thread) Playwright initial login appears successful."}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.state - INFO - StateManager initialized. State file: /home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: StateManager initialized. State file: /home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.fetcher - INFO - Fetcher initialized.
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Fetcher initialized."}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO - AgentPipeline initialized.
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: AgentPipeline initialized."}]
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "status_update" to all [/agent]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/agent,["status_update",{"status":"running","message":"Agent starting..."}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO - --- Agent Pipeline Run Invoked ---
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: --- Agent Pipeline Run Invoked ---"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO - Run Preferences:
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Run Preferences:"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO -   - Run Only Phase: Full
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO:   - Run Only Phase: Full"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO -   - Skip Fetch Bookmarks: False
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO:   - Skip Fetch Bookmarks: False"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO -   - Skip Git Sync: False
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO:   - Skip Git Sync: False"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO -   - Skip Indexing: False
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO:   - Skip Indexing: False"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO -   - Force Re-cache Tweets: False
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO:   - Force Re-cache Tweets: False"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO -   - Force Re-interpret Media: False
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO:   - Force Re-interpret Media: False"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO -   - Force Re-categorize Content: False
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO:   - Force Re-categorize Content: False"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO -   - Force Re-generate KB Items: False
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO:   - Force Re-generate KB Items: False"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO - Key Configuration Values:
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Key Configuration Values:"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO -   - Ollama URL: http://whyland-ai.nakedsun.xyz:11434/
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO:   - Ollama URL: http://whyland-ai.nakedsun.xyz:11434/"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO -   - Text Model: llama3.3:70b-instruct-q4_0
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO:   - Text Model: llama3.3:70b-instruct-q4_0"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO -   - Fallback Model: phi4-reasoning
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO:   - Fallback Model: phi4-reasoning"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO -   - Vision Model: mistral-small3.1
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO:   - Vision Model: mistral-small3.1"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO -   - Bookmark Fetching Possible (credentials present): True
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO:   - Bookmark Fetching Possible (credentials present): True"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO -   - X Username: lockepacem
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO:   - X Username: lockepacem"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO -   - X Email: chris@whyland.net
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO:   - X Email: chris@whyland.net"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO -   - X Bookmarks URL: https://x.com/i/bookmarks/1866967731179794749
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO:   - X Bookmarks URL: https://x.com/i/bookmarks/1866967731179794749"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO -   - Git Sync Enabled (config): False
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO:   - Git Sync Enabled (config): False"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO -   - Knowledge Base Dir: /home/nepenthe/git_repos/agents/knowledge-base_v2/kb-generated
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO:   - Knowledge Base Dir: /home/nepenthe/git_repos/agents/knowledge-base_v2/kb-generated"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO -   - Data Dir: /home/nepenthe/git_repos/agents/knowledge-base_v2/data
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO:   - Data Dir: /home/nepenthe/git_repos/agents/knowledge-base_v2/data"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO -   - Log Dir: /home/nepenthe/git_repos/agents/knowledge-base_v2/logs
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO:   - Log Dir: /home/nepenthe/git_repos/agents/knowledge-base_v2/logs"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO - ------------------------------------
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: ------------------------------------"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO - Run mode: 'Full Pipeline'
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Run mode: 'Full Pipeline'"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO - Skipping phase 'GitSync' (Git Sync disabled in config).
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Skipping phase 'GitSync' (Git Sync disabled in config)."}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO - Total phases planned for this run: 8. Phases: ['InputAcquisition', 'Caching', 'Interpretation', 'Categorization', 'Generation', 'DBSync', 'Indexing', 'Finalizing']
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Total phases planned for this run: 8. Phases: ['InputAcquisition', 'Caching', 'Interpretation', 'Categorization', 'Generation', 'DBSync', 'Indexing', 'Finalizing']"}]
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "progress_update" to all [/agent]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/agent,["progress_update",{"processed_count":0,"total_items":0,"current_phase":"Loading State","current_item_id":"","eta":"--:--:--","total_phases":8,"current_phase_num":0,"overall_items_processed":0,"overall_total_items":0}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.state - INFO - Attempting to load state from /home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json...
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Attempting to load state from /home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json..."}]
2025-05-13 16:34:51 - knowledge_base_agent.utils.file_io - ERROR - JSON decode error in file /home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json: Expecting value: line 1 column 1 (char 0)
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"ERROR","message":"ERROR: JSON decode error in file /home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json: Expecting value: line 1 column 1 (char 0)"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.state - ERROR - File operation error loading state: File operation 'read/parse JSON' failed for path '/home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json': Invalid JSON format: Expecting value: line 1 column 1 (char 0) (Caused by: JSONDecodeError: Expecting value: line 1 column 1 (char 0))
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"ERROR","message":"ERROR: File operation error loading state: File operation 'read/parse JSON' failed for path '/home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json': Invalid JSON format: Expecting value: line 1 column 1 (char 0) (Caused by: JSONDecodeError: Expecting value: line 1 column 1 (char 0))"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - ERROR - Critical error during pipeline execution:
Traceback (most recent call last):
  File "/home/nepenthe/git_repos/agents/knowledge-base_v2/knowledge_base_agent/utils/file_io.py", line 42, in read_json_async
    data = await asyncio.to_thread(json.loads, content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/nepenthe/git_repos/agents/knowledge-base_v2/knowledge_base_agent/processing/state.py", line 48, in load_state
    raw_state_data = await read_json_async(self.state_file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/nepenthe/git_repos/agents/knowledge-base_v2/knowledge_base_agent/utils/file_io.py", line 50, in read_json_async
    raise FileOperationError(path, "read/parse JSON", f"Invalid JSON format: {e}", e)
knowledge_base_agent.exceptions.FileOperationError: File operation 'read/parse JSON' failed for path '/home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json': Invalid JSON format: Expecting value: line 1 column 1 (char 0) (Caused by: JSONDecodeError: Expecting value: line 1 column 1 (char 0))

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/nepenthe/git_repos/agents/knowledge-base_v2/knowledge_base_agent/processing/pipeline.py", line 279, in run
    await self.state_manager.load_state()
  File "/home/nepenthe/git_repos/agents/knowledge-base_v2/knowledge_base_agent/processing/state.py", line 64, in load_state
    raise StateManagementError(f"Failed to read state file {self.state_file_path}", original_exception=e) from e
knowledge_base_agent.exceptions.StateManagementError: Failed to read state file /home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json (Caused by: FileOperationError: File operation 'read/parse JSON' failed for path '/home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json': Invalid JSON format: Expecting value: line 1 column 1 (char 0) (Caused by: JSONDecodeError: Expecting value: line 1 column 1 (char 0)))
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"ERROR","message":"ERROR: Critical error during pipeline execution:\nTraceback (most recent call last):\n  File \"/home/nepenthe/git_repos/agents/knowledge-base_v2/knowledge_base_agent/utils/file_io.py\", line 42, in read_json_async\n    data = await asyncio.to_thread(json.loads, content)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/asyncio/threads.py\", line 25, in to_thread\n    return await loop.run_in_executor(None, func_call)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/concurrent/futures/thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/json/decoder.py\", line 355, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/nepenthe/git_repos/agents/knowledge-base_v2/knowledge_base_agent/processing/state.py\", line 48, in load_state\n    raw_state_data = await read_json_async(self.state_file_path)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/nepenthe/git_repos/agents/knowledge-base_v2/knowledge_base_agent/utils/file_io.py\", line 50, in read_json_async\n    raise FileOperationError(path, \"read/parse JSON\", f\"Invalid JSON format: {e}\", e)\nknowledge_base_agent.exceptions.FileOperationError: File operation 'read/parse JSON' failed for path '/home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json': Invalid JSON format: Expecting value: line 1 column 1 (char 0) (Caused by: JSONDecodeError: Expecting value: line 1 column 1 (char 0))\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/nepenthe/git_repos/agents/knowledge-base_v2/knowledge_base_agent/processing/pipeline.py\", line 279, in run\n    await self.state_manager.load_state()\n  File \"/home/nepenthe/git_repos/agents/knowledge-base_v2/knowledge_base_agent/processing/state.py\", line 64, in load_state\n    raise StateManagementError(f\"Failed to read state file {self.state_file_path}\", original_exception=e) from e\nknowledge_base_agent.exceptions.StateManagementError: Failed to read state file /home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json (Caused by: FileOperationError: File operation 'read/parse JSON' failed for path '/home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json': Invalid JSON format: Expecting value: line 1 column 1 (char 0) (Caused by: JSONDecodeError: Expecting value: line 1 column 1 (char 0)))"}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.state - INFO - Attempting to save state to /home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json...
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Attempting to save state to /home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json..."}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.state - INFO - Successfully saved state. 0 unprocessed, 0 processed.
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Successfully saved state. 0 unprocessed, 0 processed."}]
2025-05-13 16:34:51 - knowledge_base_agent.processing.pipeline - INFO - Run Statistics:
--- Processing Stats Report ---
Total Run Time: 0.04 seconds

Phase Summary:
  - Pipeline: Entered=0, Success=0, Failed=1

Average LLM Durations (last 20):
  - Interpret: No data
  - Categorize: No data
  - Generate: No data
  Overall Items Processed (Distinct): 0 / 0

Errors Encountered (1):
  1. [Pipeline] Critical pipeline failure
--- End Report ---
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Run Statistics:\n--- Processing Stats Report ---\nTotal Run Time: 0.04 seconds\n\nPhase Summary:\n  - Pipeline: Entered=0, Success=0, Failed=1\n\nAverage LLM Durations (last 20):\n  - Interpret: No data\n  - Categorize: No data\n  - Generate: No data\n  Overall Items Processed (Distinct): 0 / 0\n\nErrors Encountered (1):\n  1. [Pipeline] Critical pipeline failure\n--- End Report ---"}]
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "status_update" to all [/agent]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/agent,["status_update",{"status":"failed","message":"Agent run failed: Failed to read state file /home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json (Caused by: FileOperationError: File operation 'read/parse JSON' failed for path '/home/nepenthe/git_repos/agents/knowledge-base_v2/data/processing_state.json': Invalid JSON format: Expecting value: line 1 column 1 (char 0) (Caused by: JSONDecodeError: Expecting value: line 1 column 1 (char 0)))"}]
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "progress_update" to all [/agent]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/agent,["progress_update",{"processed_count":0,"total_items":0,"current_phase":"Failed","current_item_id":"","eta":"00:00:00","total_phases":8,"current_phase_num":8,"overall_items_processed":0,"overall_total_items":0}]
2025-05-13 16:34:51 - knowledge_base_agent.interfaces.http_client - INFO - Closing shared httpx.AsyncClient.
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Closing shared httpx.AsyncClient."}]
2025-05-13 16:34:51 - __main__ - INFO - (Web Thread) Ensuring Playwright client is closed...
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: (Web Thread) Ensuring Playwright client is closed..."}]
2025-05-13 16:34:51 - knowledge_base_agent.interfaces.playwright_client - INFO - Closing PlaywrightClient resources (async)...
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Closing PlaywrightClient resources (async)..."}]
2025-05-13 16:34:51 - knowledge_base_agent.interfaces.playwright_client - INFO - PlaywrightClient resources closed.
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: PlaywrightClient resources closed."}]
2025-05-13 16:34:51 - __main__ - INFO - Pipeline background thread event loop finished.
2025-05-13 16:34:51 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:34:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"INFO","message":"INFO: Pipeline background thread event loop finished."}]
2025-05-13 16:35:01 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet PING data None
2025-05-13 16:35:01 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Received packet PONG data 
2025-05-13 16:35:26 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet PING data None
2025-05-13 16:35:26 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Received packet PONG data 
2025-05-13 16:35:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet PING data None
2025-05-13 16:35:51 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Received packet PONG data 
2025-05-13 16:35:55 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<Connection.run() running at /home/nepenthe/git_repos/agents/knowledge-base_v2/.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:281> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[ProtocolCallback.__init__.<locals>.cb() at /home/nepenthe/git_repos/agents/knowledge-base_v2/.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:198, <3 more>, ProtocolCallback.__init__.<locals>.cb() at /home/nepenthe/git_repos/agents/knowledge-base_v2/.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:198]>
2025-05-13 16:35:55 - socketio.server - INFO - emitting event "log_message" to all [/logs]
2025-05-13 16:35:55 - engineio.server - INFO - cLCJiMcF09l4-tyuAAAD: Sending packet MESSAGE data 2/logs,["log_message",{"level":"ERROR","message":"ERROR: Task was destroyed but it is pending!\ntask: <Task pending name='Task-2' coro=<Connection.run() running at /home/nepenthe/git_repos/agents/knowledge-base_v2/.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:281> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[ProtocolCallback.__init__.<locals>.cb() at /home/nepenthe/git_repos/agents/knowledge-base_v2/.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:198, <3 more>, ProtocolCallback.__init__.<locals>.cb() at /home/nepenthe/git_repos/agents/knowledge-base_v2/.venv/lib/python3.12/site-packages/playwright/_impl/_connection.py:198]>"}]
